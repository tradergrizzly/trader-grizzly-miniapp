<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>Trader Grizzly Bot AI</title>
<script src="https://telegram.org/js/telegram-web-app.js"></script>
<style>
body {
    margin: 0;
    background: #0f0f0f;
    color: white;
    font-family: Arial;
    text-align: center;
}
.container { padding: 30px; }
select, button {
    width: 100%;
    padding: 14px;
    font-size: 16px;
    margin-top: 15px;
    border-radius: 8px;
    border: none;
}
button {
    background: #3ba1ff;
    color: white;
    cursor: pointer;
}
.hidden { display: none; }
</style>
</head>

<body>
<div class="container">

<!-- –≠–ö–†–ê–ù 1 -->
<div id="screen-pair">
    <h2>üìä –í—ã–±–æ—Ä –ø–∞—Ä—ã</h2>
    <select id="pair">
        <option value="EUR/USD">EUR/USD</option>
        <option value="USD/JPY">USD/JPY</option>
        <option value="GBP/USD">GBP/USD</option>
    </select>
    <button onclick="requestSignal()">–ü–æ–ª—É—á–∏—Ç—å —Å–∏–≥–Ω–∞–ª</button>
</div>

<!-- –≠–ö–†–ê–ù 2 -->
<div id="screen-loading" class="hidden">
    <h2>‚è≥ –ò–¥—ë—Ç –∞–Ω–∞–ª–∏–∑ —Ä—ã–Ω–∫–∞</h2>
    <p>–°–∏–≥–Ω–∞–ª –≤ —Ç–µ—á–µ–Ω–∏–µ 10‚Äì20 —Å–µ–∫—É–Ω–¥‚Ä¶</p>
</div>

<!-- –≠–ö–†–ê–ù 3 -->
<div id="screen-signal" class="hidden">
    <h2>üìä –¢–û–†–ì–û–í–´–ô –°–ò–ì–ù–ê–õ</h2>
    <p id="signalText"></p>
    <button onclick="openDeal()">–û—Ç–∫—Ä—ã—Ç—å —Å–¥–µ–ª–∫—É</button>
</div>

</div>

<script>
const API_URL = "https://scleroid-measureless-kaya.ngrok-free.dev";

function requestSignal() {
    document.getElementById("screen-pair").classList.add("hidden");
    document.getElementById("screen-loading").classList.remove("hidden");

    fetch(API_URL + "/signal", {
        method: "POST",
        headers: {"Content-Type": "application/json"},
        body: JSON.stringify({
            pair: document.getElementById("pair").value
        })
    })
    .then(r => r.json())
    .then(data => {
        document.getElementById("screen-loading").classList.add("hidden");
        document.getElementById("screen-signal").classList.remove("hidden");

        document.getElementById("signalText").innerHTML = `
üí± –ü–∞—Ä–∞: ${data.pair}<br>
üìà –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: ${data.direction}<br>
‚è±Ô∏è –¢–∞–π–º—Ñ—Ä–µ–π–º: ${data.timeframe}<br>
‚≠ê –ö–∞—á–µ—Å—Ç–≤–æ: ${data.quality}<br>
üí∞ –¶–µ–Ω–∞ –æ—Ç–∫—Ä—ã—Ç–∏—è: ${data.open_price}<br>
üïí –í—Ä–µ–º—è –≤—Ö–æ–¥–∞: ${data.entry_time}
        `;
    });
}

function openDeal() {
    Telegram.WebApp.showAlert("–°–¥–µ–ª–∫–∞ –æ—Ç–∫—Ä—ã—Ç–∞. –î–æ–∂–¥–∏—Ç–µ—Å—å –æ–∫–æ–Ω—á–∞–Ω–∏—è —Å–∏–≥–Ω–∞–ª–∞.");
}
</script>
</body>
</html>

